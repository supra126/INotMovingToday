# çŸ­å½±ç‰‡ç¤¾ç¾¤è¡ŒéŠ·æ‡‰ç”¨é–‹ç™¼è¦åŠƒ

> ç”Ÿæˆæ—¥æœŸï¼š2025-11-28
> åƒè€ƒå°ˆæ¡ˆï¼šhttps://github.com/supra126/IGiveUpOnLife / IGiveUpOnLifeï¼ˆAI è¡ŒéŠ·åœ–ç‰‡ç”Ÿæˆå™¨ï¼‰
> é¢¨æ ¼ã€æ¨£å¼åƒè€ƒï¼šhttps://github.com/supra126/IGiveUpOnLife

---

## ğŸ¯ ç”¢å“å®šä½

**åç¨±**ï¼š`INotMovingToday (ä¸æƒ³å‹•äº†) (AI è¡ŒéŠ·å½±ç‰‡ç”Ÿæˆå™¨)`

**ç›®æ¨™**ï¼šè®“ç”¨æˆ¶é€éåœ–ç‰‡ + æ–‡å­—æè¿°ï¼Œç¶“é AI å¼•å°å¼å°è©±ï¼Œæœ€çµ‚ç”Ÿæˆ Reels/Shorts/TikTok çŸ­å½±ç‰‡

**æ ¸å¿ƒæ¦‚å¿µ**ï¼šè¿­ä»£å¼å¼•å°ç”Ÿæˆ - é€éå¤šè¼ªå°è©±é€æ­¥ç²¾ç…‰å½±ç‰‡æ–¹å‘

---

## ğŸ”„ ä½¿ç”¨è€…æµç¨‹è¨­è¨ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Phase 1: åˆå§‹è¼¸å…¥                          â”‚
â”‚  ç”¨æˆ¶ä¸Šå‚³ 1 å¼µåœ–ç‰‡ + æè¿° â†’ AI åˆ†æ â†’ ç”¢å‡º 3 ç¨®å½±ç‰‡æ–¹å‘å»ºè­°            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Phase 2: è¿­ä»£ç²¾ç…‰ï¼ˆå¯é‡è¤‡ï¼‰                     â”‚
â”‚  ç”¨æˆ¶é¸æ“‡ 1 å€‹æ–¹å‘ + å¯é¸èª¿æ•´æ„è¦‹                                    â”‚
â”‚  ç”¨æˆ¶å¯è¿½åŠ åœ–ç‰‡ï¼ˆæœ€å¤šç´¯è¨ˆ 3 å¼µï¼‰+ é¡å¤–æ–‡å­—                            â”‚
â”‚  â†’ AI é‡æ–°åˆ†æ â†’ ç”¢å‡ºæ–°çš„ 3 ç¨®æ–¹å‘å»ºè­°                              â”‚
â”‚  ï¼ˆå¾ªç’°ç›´åˆ°ç”¨æˆ¶æ»¿æ„ï¼‰                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Phase 3: æœ€çµ‚ç¢ºèª                            â”‚
â”‚  é¡¯ç¤ºå®Œæ•´å½±ç‰‡è¦åŠƒï¼ˆè…³æœ¬ã€åˆ†é¡ã€æ™‚é•·ã€é…æ¨‚å»ºè­°ï¼‰                         â”‚
â”‚  ç”¨æˆ¶ç¢ºèª â†’ é–‹å§‹ç”Ÿæˆå½±ç‰‡                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Phase 4: å½±ç‰‡ç”Ÿæˆ                            â”‚
â”‚  AI ç”Ÿæˆå½±ç‰‡ â†’ é è¦½ â†’ ä¸‹è¼‰/åˆ†äº«                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—ï¸ é›™æ§‹å»ºæ¨¡å¼æ¶æ§‹

### æ§‹å»ºæ¨¡å¼å°æ¯”

| ç‰¹æ€§ | ä¼ºæœå™¨ç‰ˆ | éœæ…‹ç‰ˆ |
|------|---------|--------|
| **æ§‹å»ºæŒ‡ä»¤** | `pnpm build` | `pnpm build:static` |
| **è¼¸å‡º** | `.next/` (SSR) | `dist/` (Static Export) |
| **API é‡‘é‘°** | ä¼ºæœå™¨ç«¯ç’°å¢ƒè®Šæ•¸ | ç”¨æˆ¶è‡ªè¡Œè¼¸å…¥ |
| **é€Ÿç‡é™åˆ¶** | âœ… æ”¯æ´ï¼ˆåŸºæ–¼ IPï¼‰ | âŒ ä¸æ”¯æ´ |
| **èªè­‰æ•´åˆ** | âœ… Cloudflare Zero Trust | âŒ ç„¡ |
| **éƒ¨ç½²æ–¹å¼** | Docker / Railway / VPS | GitHub Pages / Cloudflare Pages / S3 |
| **é©ç”¨å ´æ™¯** | å•†æ¥­æœå‹™ã€åœ˜éšŠä½¿ç”¨ | å€‹äººä½¿ç”¨ã€é–‹æºåˆ†äº« |

### æ¶æ§‹è¨­è¨ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         æ‡‰ç”¨å±¤ (App Layer)                       â”‚
â”‚                                                                 â”‚
â”‚   app/page.tsx â†â†’ components/* â†â†’ contexts/*                   â”‚
â”‚                         â†“                                       â”‚
â”‚              services/videoService.ts (çµ±ä¸€å…¥å£)                  â”‚
â”‚                         â†“                                       â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚         â†“                               â†“                       â”‚
â”‚   [ä¼ºæœå™¨æ¨¡å¼]                      [éœæ…‹æ¨¡å¼]                    â”‚
â”‚   app/actions/*.ts                services/videoClient.ts       â”‚
â”‚   - Server Actions                - ç´”å®¢æˆ¶ç«¯ API èª¿ç”¨             â”‚
â”‚   - é€Ÿç‡é™åˆ¶                       - ç”¨æˆ¶æä¾› API Key             â”‚
â”‚   - ä¼ºæœå™¨ API Key                 - ç„¡ä¼ºæœå™¨ä¾è³´                  â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æœå‹™å±¤å¯¦ç¾æ¨¡å¼

```typescript
// services/videoService.ts - çµ±ä¸€æœå‹™å…¥å£

const isStaticBuild = process.env.NEXT_PUBLIC_BUILD_MODE === "static";

export async function analyzeImages(
  images: File[],
  description: string,
  apiKey?: string,
  locale?: Locale
): Promise<AnalysisResult> {
  if (isStaticBuild) {
    // éœæ…‹ç‰ˆï¼šä½¿ç”¨å®¢æˆ¶ç«¯ç›´æ¥èª¿ç”¨
    const { analyzeImagesClient } = await import("./videoClient");
    return analyzeImagesClient(images, description, apiKey!, locale);
  } else {
    // ä¼ºæœå™¨ç‰ˆï¼šä½¿ç”¨ Server Action
    const { analyzeImagesAction } = await import("@/app/actions/analyze");
    return analyzeImagesAction(images, description, locale);
  }
}

// å…¶ä»–å‡½æ•¸åŒç†...
```

### Next.js é…ç½®

```typescript
// next.config.ts

const isStaticBuild = process.env.NEXT_PUBLIC_BUILD_MODE === "static";

const nextConfig: NextConfig = {
  output: isStaticBuild ? "export" : undefined,

  images: {
    unoptimized: isStaticBuild,
  },

  experimental: {
    serverActions: isStaticBuild
      ? undefined
      : {
          bodySizeLimit: "20mb",
        },
  },

  // éœæ…‹ç‰ˆä¸ä½¿ç”¨ trailing slashï¼Œä¿æŒ SPA è·¯ç”±
  trailingSlash: false,
};

export default nextConfig;
```

### package.json è…³æœ¬

```json
{
  "scripts": {
    "dev": "next dev --turbopack",
    "build": "next build",
    "build:static": "NEXT_PUBLIC_BUILD_MODE=static next build",
    "start": "next start",
    "start:static": "node bin/cli.js",
    "lint": "eslint .",
    "format": "prettier --write ."
  }
}
```

---

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```
short-video-generator/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”œâ”€â”€ page.tsx                    # é¦–é /ä¸Šå‚³å…¥å£
â”‚   â”œâ”€â”€ create/
â”‚   â”‚   â””â”€â”€ page.tsx                # ä¸»å‰µä½œæµç¨‹é é¢ï¼ˆå–®é å¤šéšæ®µï¼‰
â”‚   â”œâ”€â”€ preview/
â”‚   â”‚   â””â”€â”€ [id]/page.tsx           # å½±ç‰‡é è¦½é 
â”‚   â””â”€â”€ actions/                    # Server Actionsï¼ˆä¼ºæœå™¨ç‰ˆå°ˆç”¨ï¼‰
â”‚       â”œâ”€â”€ analyze.ts              # åœ–ç‰‡åˆ†æ
â”‚       â”œâ”€â”€ refine.ts               # è¿­ä»£ç²¾ç…‰
â”‚       â”œâ”€â”€ script.ts               # è…³æœ¬ç”Ÿæˆ
â”‚       â””â”€â”€ generate.ts             # å½±ç‰‡ç”Ÿæˆ
â”‚
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ upload/
â”‚   â”‚   â”œâ”€â”€ ImageUploader.tsx       # åœ–ç‰‡ä¸Šå‚³ï¼ˆæ”¯æ´æ‹–æ”¾ã€å¤šå¼µï¼‰
â”‚   â”‚   â”œâ”€â”€ ImagePreview.tsx        # å·²ä¸Šå‚³åœ–ç‰‡é è¦½
â”‚   â”‚   â””â”€â”€ ImageGallery.tsx        # å¤šåœ–ç®¡ç†ç•«å»Š
â”‚   â”œâ”€â”€ suggestions/
â”‚   â”‚   â”œâ”€â”€ SuggestionCard.tsx      # å–®ä¸€å»ºè­°å¡ç‰‡
â”‚   â”‚   â”œâ”€â”€ SuggestionList.tsx      # 3 å€‹å»ºè­°çš„å®¹å™¨
â”‚   â”‚   â””â”€â”€ AdjustmentInput.tsx     # èª¿æ•´æ–¹å‘è¼¸å…¥æ¡†
â”‚   â”œâ”€â”€ timeline/
â”‚   â”‚   â”œâ”€â”€ ProgressIndicator.tsx   # éšæ®µé€²åº¦æŒ‡ç¤ºå™¨
â”‚   â”‚   â””â”€â”€ IterationHistory.tsx    # è¿­ä»£æ­·å²è¨˜éŒ„
â”‚   â”œâ”€â”€ preview/
â”‚   â”‚   â”œâ”€â”€ ScriptPreview.tsx       # è…³æœ¬é è¦½
â”‚   â”‚   â”œâ”€â”€ StoryboardPreview.tsx   # åˆ†é¡é è¦½
â”‚   â”‚   â””â”€â”€ VideoPlayer.tsx         # å½±ç‰‡æ’­æ”¾å™¨
â”‚   â”œâ”€â”€ settings/
â”‚   â”‚   â””â”€â”€ ApiKeyModal.tsx         # API é‡‘é‘°è¨­å®šï¼ˆéœæ…‹ç‰ˆç”¨ï¼‰
â”‚   â””â”€â”€ common/
â”‚       â”œâ”€â”€ Button.tsx
â”‚       â”œâ”€â”€ Modal.tsx
â”‚       â”œâ”€â”€ Spinner.tsx
â”‚       â””â”€â”€ LanguageToggle.tsx
â”‚
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ videoService.ts             # çµ±ä¸€æœå‹™å…¥å£ï¼ˆè‡ªå‹•åˆ‡æ›æ¨¡å¼ï¼‰
â”‚   â”œâ”€â”€ videoClient.ts              # å®¢æˆ¶ç«¯ APIï¼ˆéœæ…‹ç‰ˆï¼‰
â”‚   â””â”€â”€ video-providers/
â”‚       â”œâ”€â”€ veo.ts                  # Google VEO 3.1 (Gemini API)
â”‚       â”œâ”€â”€ runway.ts               # Runway ML API
â”‚       â”œâ”€â”€ pika.ts                 # Pika Labs API
â”‚       â””â”€â”€ kling.ts                # å¯éˆ API
â”‚
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ ai/
â”‚   â”‚   â”œâ”€â”€ prompts.ts              # AI Prompt æ¨¡æ¿
â”‚   â”‚   â””â”€â”€ gemini-client.ts        # Gemini API å°è£
â”‚   â”œâ”€â”€ storage/
â”‚   â”‚   â”œâ”€â”€ api-key-storage.ts      # API é‡‘é‘°å­˜å„²ï¼ˆsessionStorageï¼‰
â”‚   â”‚   â””â”€â”€ session-store.ts        # å‰µä½œæœƒè©±ç‹€æ…‹ç®¡ç†
â”‚   â”œâ”€â”€ rate-limit.ts               # é€Ÿç‡é™åˆ¶ï¼ˆä¼ºæœå™¨ç‰ˆï¼‰
â”‚   â”œâ”€â”€ cloudflareAccess.ts         # Cloudflare Zero Trust
â”‚   â””â”€â”€ utils/
â”‚       â”œâ”€â”€ image-utils.ts          # åœ–ç‰‡è™•ç†å·¥å…·
â”‚       â””â”€â”€ validation.ts           # è¼¸å…¥é©—è­‰
â”‚
â”œâ”€â”€ types/
â”‚   â””â”€â”€ index.ts                    # æ‰€æœ‰ TypeScript é¡å‹å®šç¾©
â”‚
â”œâ”€â”€ contexts/
â”‚   â”œâ”€â”€ CreationContext.tsx         # å‰µä½œæµç¨‹ç‹€æ…‹ Context
â”‚   â””â”€â”€ LocaleContext.tsx           # åœ‹éš›åŒ–
â”‚
â”œâ”€â”€ locales/
â”‚   â”œâ”€â”€ zh.json                     # ç¹é«”ä¸­æ–‡
â”‚   â””â”€â”€ en.json                     # è‹±æ–‡
â”‚
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useCreationFlow.ts          # å‰µä½œæµç¨‹ hook
â”‚   â”œâ”€â”€ useImageUpload.ts           # åœ–ç‰‡ä¸Šå‚³ hook
â”‚   â””â”€â”€ useVideoGeneration.ts       # å½±ç‰‡ç”Ÿæˆ hook
â”‚
â”œâ”€â”€ bin/
â”‚   â””â”€â”€ cli.js                      # NPM CLI å…¥å£ï¼ˆéœæ…‹ç‰ˆï¼‰
â”‚
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â”œâ”€â”€ docker-publish.yml      # Docker æ§‹å»ºå’Œæ¨é€
â”‚       â””â”€â”€ npm-publish.yml         # NPM ç™¼å¸ƒï¼ˆéœæ…‹ç‰ˆï¼‰
â”‚
â”œâ”€â”€ Dockerfile                      # å¤šéšæ®µ Docker æ§‹å»º
â”œâ”€â”€ next.config.ts
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ tailwind.config.ts
â”œâ”€â”€ .env.example
â””â”€â”€ README.md
```

---

## ğŸ“Š æ ¸å¿ƒè³‡æ–™çµæ§‹

```typescript
// types/index.ts

// ============ åŸºç¤é¡å‹ ============

type VideoRatio = '9:16' | '16:9' | '1:1';

type VideoPlatform = 'reels' | 'shorts' | 'tiktok';

type VideoStyle =
  | 'cinematic'      // é›»å½±æ„Ÿ
  | 'dynamic'        // å‹•æ„Ÿå‰ªè¼¯
  | 'storytelling'   // æ•˜äº‹å‹
  | 'product-demo'   // ç”¢å“å±•ç¤º
  | 'tutorial'       // æ•™å­¸å‹
  | 'aesthetic'      // ç¾æ„Ÿæ°›åœ
  | 'meme';          // è¿·å› /è¶£å‘³

type Locale = 'zh' | 'en';

// ============ ä¸Šå‚³çš„ç´ æ ============

interface UploadedImage {
  id: string;
  file: File;
  previewUrl: string;
  uploadedAt: number;
  order: number;
}

interface UserInput {
  images: UploadedImage[];           // æœ€å¤š 3 å¼µ
  description: string;
  additionalNotes?: string;
}

// ============ AI åˆ†æçµæœ ============

interface ImageAnalysis {
  subjects: string[];
  mood: string;
  colors: string[];
  setting: string;
  suggestedThemes: string[];
}

// ============ å½±ç‰‡æ–¹å‘å»ºè­° ============

interface VideoSuggestion {
  id: string;
  title: string;                     // ç°¡çŸ­æ¨™é¡Œï¼ˆ5-10å­—ï¼‰
  concept: string;                   // æ¦‚å¿µæè¿°ï¼ˆ50-100å­—ï¼‰
  style: VideoStyle;
  targetPlatform: VideoPlatform;
  estimatedDuration: number;         // ç§’æ•¸ï¼ˆ15/30/60ï¼‰

  // åˆæ­¥è¦åŠƒ
  hookIdea: string;                  // é–‹é ­å¸ç›é»
  mainContent: string;               // ä¸»è¦å…§å®¹æè¿°
  callToAction: string;              // çµå°¾è¡Œå‹•å‘¼ç±²

  // è¦–è¦ºå»ºè­°
  visualStyle: string;
  transitionStyle: string;
  suggestedMusic: string;
}

interface SuggestionSet {
  id: string;
  iterationNumber: number;
  timestamp: number;
  suggestions: [VideoSuggestion, VideoSuggestion, VideoSuggestion];
  basedOn: {
    images: string[];
    userInputs: string[];
    previousSelection?: string;
  };
}

// ============ ç”¨æˆ¶é¸æ“‡èˆ‡èª¿æ•´ ============

interface UserSelection {
  suggestionId: string;
  adjustment?: string;
  additionalImages?: UploadedImage[];
  additionalText?: string;
}

// ============ è¿­ä»£æ­·å² ============

interface IterationRecord {
  round: number;
  suggestionSet: SuggestionSet;
  userSelection: UserSelection;
}

// ============ æœ€çµ‚å½±ç‰‡è¦åŠƒ ============

interface SceneScript {
  sceneNumber: number;
  startTime: number;
  endTime: number;
  duration: number;
  description: string;
  visualPrompt: string;
  textOverlay?: string;
  transition: string;
}

interface VideoScript {
  scenes: SceneScript[];
  totalDuration: number;
  voiceoverText?: string;
}

interface FinalVideoSpec {
  id: string;
  title: string;
  ratio: VideoRatio;
  duration: number;
  style: VideoStyle;
  script: VideoScript;
  musicStyle: string;
  colorGrading: string;

  // ä¾†æºè¿½æº¯
  sourceImages: UploadedImage[];
  iterationHistory: IterationRecord[];
}

// ============ å‰µä½œæœƒè©±ç‹€æ…‹ ============

type CreationPhase =
  | 'initial-upload'
  | 'first-suggestions'
  | 'refining'
  | 'final-review'
  | 'generating'
  | 'completed';

interface CreationSession {
  id: string;
  phase: CreationPhase;
  startedAt: number;

  images: UploadedImage[];
  iterations: IterationRecord[];
  currentSuggestions?: SuggestionSet;

  finalSpec?: FinalVideoSpec;
  generatedVideoUrl?: string;
}

// ============ API å›æ‡‰é¡å‹ ============

interface AnalysisResponse {
  imageAnalysis: ImageAnalysis;
  suggestions: [VideoSuggestion, VideoSuggestion, VideoSuggestion];
}

interface ScriptResponse {
  script: VideoScript;
  musicRecommendation: {
    style: string;
    tempo: string;
    mood: string;
  };
  colorGrading: string;
}

interface GenerationResponse {
  videoUrl: string;
  thumbnailUrl: string;
  duration: number;
  fileSize: number;
}
```

---

## ğŸ§  AI Prompt è¨­è¨ˆ

### Phase 1: åˆå§‹åˆ†æ Prompt

```typescript
// lib/ai/prompts.ts

export const INITIAL_ANALYSIS_PROMPT = `
ä½ æ˜¯ä¸€ä½å°ˆæ¥­çš„çŸ­å½±ç‰‡å…§å®¹ç­–åŠƒå¸«ï¼Œæ“…é•·è£½ä½œ Reelsã€Shortsã€TikTok çˆ†æ¬¾å…§å®¹ã€‚

## ä»»å‹™
åˆ†æç”¨æˆ¶æä¾›çš„åœ–ç‰‡å’Œæè¿°ï¼Œæå‡º 3 ç¨®ä¸åŒæ–¹å‘çš„çŸ­å½±ç‰‡å‰µæ„å»ºè­°ã€‚

## è¼¸å…¥
- åœ–ç‰‡ï¼š{imageCount} å¼µ
- ç”¨æˆ¶æè¿°ï¼š{userDescription}

## è¼¸å‡ºè¦æ±‚
æä¾› 3 ç¨® **å·®ç•°åŒ–æ˜é¡¯** çš„å½±ç‰‡æ–¹å‘ï¼š
1. **å®‰å…¨ç‰Œ**ï¼šæœ€ç›´è¦ºã€æœ€ç¬¦åˆç”¨æˆ¶æè¿°çš„æ–¹å‘
2. **å‰µæ„ç‰Œ**ï¼šæœ‰å‰µæ„è½‰æŠ˜æˆ–æ„å¤–è§’åº¦çš„æ–¹å‘
3. **çˆ†æ¬¾ç‰Œ**ï¼šåƒè€ƒç•¶å‰å¹³å°ç†±é–€è¶¨å‹¢çš„æ–¹å‘

æ¯å€‹æ–¹å‘éœ€åŒ…å«ï¼š
- title: ç°¡çŸ­å¸ç›çš„æ¨™é¡Œï¼ˆ5-10å­—ï¼‰
- concept: å½±ç‰‡æ¦‚å¿µæè¿°ï¼ˆ50-80å­—ï¼‰
- style: å½±ç‰‡é¢¨æ ¼ï¼ˆcinematic/dynamic/storytelling/product-demo/tutorial/aesthetic/memeï¼‰
- targetPlatform: æœ€é©åˆçš„å¹³å°ï¼ˆreels/shorts/tiktokï¼‰
- estimatedDuration: å»ºè­°æ™‚é•·ï¼ˆ15/30/60ç§’ï¼‰
- hookIdea: å‰3ç§’çš„å¸ç›è¨­è¨ˆ
- mainContent: ä¸»è¦å…§å®¹è¦åŠƒ
- callToAction: çµå°¾è¨­è¨ˆ
- visualStyle: è¦–è¦ºé¢¨æ ¼æè¿°
- transitionStyle: è½‰å ´å»ºè­°
- suggestedMusic: é…æ¨‚é¢¨æ ¼

## å›æ‡‰æ ¼å¼
ä»¥ JSON æ ¼å¼å›æ‡‰ï¼š
{
  "imageAnalysis": {
    "subjects": [],
    "mood": "",
    "colors": [],
    "setting": "",
    "suggestedThemes": []
  },
  "suggestions": [
    { ... },
    { ... },
    { ... }
  ]
}
`;

export const INITIAL_ANALYSIS_PROMPT_EN = `
You are a professional short-form video content strategist, expert in creating viral Reels, Shorts, and TikTok content.

## Task
Analyze the user's provided images and description, then propose 3 different short video creative directions.

## Input
- Images: {imageCount}
- User description: {userDescription}

## Output Requirements
Provide 3 **distinctly different** video directions:
1. **Safe Choice**: Most intuitive, closely matching the user's description
2. **Creative Choice**: Unexpected angle or creative twist
3. **Viral Choice**: Following current platform trends

Each direction must include:
- title: Short catchy title (5-10 words)
- concept: Video concept description (50-80 words)
- style: Video style
- targetPlatform: Best suited platform
- estimatedDuration: Suggested duration (15/30/60 seconds)
- hookIdea: First 3 seconds hook design
- mainContent: Main content plan
- callToAction: Ending design
- visualStyle: Visual style description
- transitionStyle: Transition suggestions
- suggestedMusic: Music style

## Response Format
Respond in JSON format.
`;
```

### Phase 2: è¿­ä»£ç²¾ç…‰ Prompt

```typescript
export const REFINEMENT_PROMPT = `
ä½ æ˜¯ä¸€ä½å°ˆæ¥­çš„çŸ­å½±ç‰‡å…§å®¹ç­–åŠƒå¸«ã€‚

## èƒŒæ™¯
ç”¨æˆ¶æ­£åœ¨é€²è¡Œç¬¬ {iterationNumber} è¼ªçš„å‰µæ„ç²¾ç…‰ã€‚

### ä¹‹å‰çš„é¸æ“‡
ç”¨æˆ¶åœ¨ä¸Šä¸€è¼ªé¸æ“‡äº†ï¼šã€Œ{previousSelection.title}ã€
æ¦‚å¿µï¼š{previousSelection.concept}

### ç”¨æˆ¶çš„èª¿æ•´æ„è¦‹
{userAdjustment}

### æ–°å¢ç´ æ
- æ–°å¢åœ–ç‰‡ï¼š{newImageCount} å¼µ
- é¡å¤–èªªæ˜ï¼š{additionalText}

### æ‰€æœ‰å¯ç”¨åœ–ç‰‡
å…± {totalImageCount} å¼µåœ–ç‰‡

## ä»»å‹™
æ ¹æ“šç”¨æˆ¶çš„é¸æ“‡å’Œèª¿æ•´æ„è¦‹ï¼Œæå‡º 3 ç¨® **ç²¾ç…‰å¾Œ** çš„å½±ç‰‡æ–¹å‘ï¼š
1. **å»¶çºŒå„ªåŒ–**ï¼šä¿ç•™åŸé¸æ“‡æ ¸å¿ƒï¼Œå„ªåŒ–ç´°ç¯€
2. **æ–¹å‘å¾®èª¿**ï¼šæ ¹æ“šèª¿æ•´æ„è¦‹åšå‡ºæ˜ç¢ºæ”¹è®Š
3. **å¤§è†½çªç ´**ï¼šçµåˆæ–°ç´ æï¼Œå˜—è©¦æ–°å¯èƒ½

## å›æ‡‰æ ¼å¼
åŒåˆå§‹åˆ†ææ ¼å¼ï¼Œä»¥ JSON å›æ‡‰ã€‚
`;

export const REFINEMENT_PROMPT_EN = `
You are a professional short-form video content strategist.

## Background
User is on iteration round {iterationNumber} of creative refinement.

### Previous Selection
User selected: "{previousSelection.title}"
Concept: {previousSelection.concept}

### User's Adjustment Request
{userAdjustment}

### New Materials
- New images: {newImageCount}
- Additional notes: {additionalText}

### All Available Images
Total: {totalImageCount} images

## Task
Based on user's selection and adjustment requests, propose 3 **refined** video directions:
1. **Continue & Optimize**: Keep core concept, optimize details
2. **Adjust Direction**: Make clear changes based on feedback
3. **Bold Breakthrough**: Try new possibilities with new materials

## Response Format
Same as initial analysis, respond in JSON.
`;
```

### Phase 3: è…³æœ¬ç”Ÿæˆ Prompt

```typescript
export const FINAL_SCRIPT_PROMPT = `
ä½ æ˜¯ä¸€ä½å°ˆæ¥­çš„çŸ­å½±ç‰‡è…³æœ¬ç·¨åŠ‡å’Œåˆ†é¡å¸«ã€‚

## ä»»å‹™
æ ¹æ“šæœ€çµ‚ç¢ºèªçš„å½±ç‰‡æ–¹å‘ï¼Œç”Ÿæˆå®Œæ•´çš„å½±ç‰‡è…³æœ¬å’Œåˆ†é¡è¦åŠƒã€‚

### å½±ç‰‡è¦æ ¼
- æ¨™é¡Œï¼š{title}
- æ¦‚å¿µï¼š{concept}
- é¢¨æ ¼ï¼š{style}
- æ™‚é•·ï¼š{duration} ç§’
- æ¯”ä¾‹ï¼š{ratio}

### ç´ æ
- å¯ç”¨åœ–ç‰‡ï¼š{imageCount} å¼µ
- åœ–ç‰‡æè¿°ï¼š{imageDescriptions}

## è¼¸å‡ºè¦æ±‚
ç”Ÿæˆåˆ†å ´è…³æœ¬ï¼Œæ¯å ´åŒ…å«ï¼š
- æ™‚é–“ç¢¼ï¼ˆé–‹å§‹-çµæŸï¼‰
- å ´æ™¯æè¿°
- ç•«é¢ä¸Šçš„æ–‡å­—ï¼ˆå¦‚æœ‰ï¼‰
- è¦–è¦ºæ•ˆæœ/è½‰å ´
- AI å½±ç‰‡ç”Ÿæˆç”¨çš„è©³ç´°è¦–è¦ºæç¤ºè©ï¼ˆè‹±æ–‡ï¼Œå…·é«”æè¿°ç•«é¢å‹•æ…‹ï¼‰

## å›æ‡‰æ ¼å¼
{
  "script": {
    "scenes": [
      {
        "sceneNumber": 1,
        "startTime": 0,
        "endTime": 3,
        "duration": 3,
        "description": "å ´æ™¯æè¿°",
        "visualPrompt": "Detailed English prompt for AI video generation...",
        "textOverlay": "ç•«é¢æ–‡å­—",
        "transition": "è½‰å ´æ•ˆæœ"
      }
    ],
    "totalDuration": 30,
    "voiceoverText": "æ—ç™½æ–‡å­—ï¼ˆå¦‚éœ€è¦ï¼‰"
  },
  "musicRecommendation": {
    "style": "éŸ³æ¨‚é¢¨æ ¼",
    "tempo": "ç¯€å¥ï¼ˆBPM ç¯„åœï¼‰",
    "mood": "æƒ…ç·’"
  },
  "colorGrading": "èª¿è‰²é¢¨æ ¼å»ºè­°"
}
`;

export const FINAL_SCRIPT_PROMPT_EN = `
You are a professional short-form video scriptwriter and storyboard artist.

## Task
Based on the finalized video direction, generate a complete script and storyboard plan.

### Video Specifications
- Title: {title}
- Concept: {concept}
- Style: {style}
- Duration: {duration} seconds
- Ratio: {ratio}

### Materials
- Available images: {imageCount}
- Image descriptions: {imageDescriptions}

## Output Requirements
Generate scene-by-scene script, each scene includes:
- Timecode (start-end)
- Scene description
- Text overlay (if any)
- Visual effects/transitions
- Detailed visual prompt for AI video generation (specific motion description)

## Response Format
Same JSON structure as Chinese version.
`;
```

---

## ğŸ¬ å½±ç‰‡ç”Ÿæˆ API æ•´åˆ

### æ”¯æ´çš„æœå‹™

| æœå‹™ | å„ªé» | ç¼ºé» | åƒ¹æ ¼åƒè€ƒ |
|------|------|------|---------|
| **Runway Gen-3** | å“è³ªæœ€é«˜ã€æ§åˆ¶åŠ›å¼· | åƒ¹æ ¼è¼ƒé«˜ | ~$0.05/ç§’ |
| **Pika Labs** | æ€§åƒ¹æ¯”é«˜ã€é€Ÿåº¦å¿« | ä¸€è‡´æ€§ç¨å·® | ~$0.02/ç§’ |
| **å¯éˆ (Kling)** | ä¸­æ–‡å„ªåŒ–ã€åƒ¹æ ¼å¯¦æƒ  | æµ·å¤–è¨ªå•ä¸ç©©å®š | ~Â¥0.1/ç§’ |
| **Luma Dream Machine** | å‹•æ…‹æ•ˆæœå¥½ | API è¼ƒæ–° | ~$0.03/ç§’ |

### å¯æ’æ‹”æ¶æ§‹è¨­è¨ˆ

```typescript
// services/video-providers/types.ts

interface VideoGenerationProvider {
  name: string;
  generateVideo(params: GenerationParams): Promise<GenerationResult>;
  checkStatus(jobId: string): Promise<JobStatus>;
  getCapabilities(): ProviderCapabilities;
}

interface GenerationParams {
  prompt: string;
  duration: number;
  ratio: VideoRatio;
  referenceImages?: string[];  // base64 æˆ– URL
  style?: string;
}

interface GenerationResult {
  jobId: string;
  estimatedTime: number;
}

interface JobStatus {
  status: 'pending' | 'processing' | 'completed' | 'failed';
  progress?: number;
  videoUrl?: string;
  error?: string;
}
```

```typescript
// services/video-providers/runway.ts

import { VideoGenerationProvider } from './types';

export class RunwayProvider implements VideoGenerationProvider {
  name = 'Runway Gen-3';

  async generateVideo(params: GenerationParams): Promise<GenerationResult> {
    // Runway API å¯¦ç¾
  }

  async checkStatus(jobId: string): Promise<JobStatus> {
    // ç‹€æ…‹æŸ¥è©¢
  }

  getCapabilities() {
    return {
      maxDuration: 10,  // ç§’
      supportedRatios: ['16:9', '9:16', '1:1'],
      supportsReferenceImage: true,
      supportsTextOverlay: false,
    };
  }
}
```

---

## ğŸ” ç’°å¢ƒè®Šæ•¸é…ç½®

### .env.example

```bash
# ============ AI æ¨¡å‹é…ç½® ============
GEMINI_API_KEY=                          # ä¼ºæœå™¨ç«¯ API é‡‘é‘°ï¼ˆå¯é¸ï¼‰
GEMINI_TEXT_MODEL=gemini-2.5-flash       # æ–‡å­—åˆ†ææ¨¡å‹
GEMINI_THINKING_BUDGET=2048              # æ€è€ƒé ç®—ï¼ˆ0-24000ï¼‰

# ============ å½±ç‰‡ç”Ÿæˆ API ============
VIDEO_PROVIDER=runway                     # runway / pika / kling / luma
RUNWAY_API_KEY=                          # Runway API é‡‘é‘°
PIKA_API_KEY=                            # Pika Labs API é‡‘é‘°
KLING_API_KEY=                           # å¯éˆ API é‡‘é‘°

# ============ é€Ÿç‡é™åˆ¶ï¼ˆä¼ºæœå™¨ç‰ˆï¼‰============
RATE_LIMIT_WINDOW_MS=60000               # æ™‚é–“çª—å£ï¼ˆæ¯«ç§’ï¼‰
RATE_LIMIT_MAX_REQUESTS=5                # æœ€å¤§è«‹æ±‚æ•¸ï¼ˆå½±ç‰‡ç”Ÿæˆè¼ƒè²´ï¼Œå»ºè­°è¼ƒä½ï¼‰
RATE_LIMIT_ENABLED=true

# ============ Cloudflare Zero Trustï¼ˆå¯é¸ï¼‰============
CF_ACCESS_TEAM_NAME=
CF_ACCESS_AUD=

# ============ æ§‹å»ºæ¨¡å¼ ============
# NEXT_PUBLIC_BUILD_MODE=static          # éœæ…‹æ§‹å»ºæ™‚å–æ¶ˆè¨»è§£
```

---

## ğŸ› ï¸ æŠ€è¡“é¸å‹

| å±¤é¢ | é¸æ“‡ | ç†ç”± |
|------|------|------|
| **æ¡†æ¶** | Next.js 15+ (App Router) | Server Actionsã€é›™æ§‹å»ºæ¨¡å¼æ”¯æ´ |
| **èªè¨€** | TypeScript 5.x | é¡å‹å®‰å…¨ |
| **æ¨£å¼** | Tailwind CSS 4 | å¿«é€Ÿé–‹ç™¼ã€ä¸€è‡´æ€§ |
| **ç‹€æ…‹ç®¡ç†** | Zustand | è¼•é‡ã€ç°¡å–®ã€æ”¯æ´æŒä¹…åŒ– |
| **AI åˆ†æ** | Gemini 2.5 Flash | å¤šåœ–æ”¯æ´ã€é€Ÿåº¦å¿«ã€åƒ¹æ ¼åˆç† |
| **å½±ç‰‡ç”Ÿæˆ** | Runway Gen-3 (ä¸») | å“è³ªæœ€ä½³ï¼Œå¯æ“´å±•å…¶ä»–æœå‹™ |
| **å‹•ç•«** | Framer Motion | æµç¨‹éæ¸¡å‹•ç•« |
| **åœ–ç‰‡ä¸Šå‚³** | æœ¬åœ°è™•ç† + base64 | ç°¡å–®ï¼Œç„¡éœ€é¡å¤–æœå‹™ |

---

## ğŸ“… é–‹ç™¼éšæ®µè¦åŠƒ

### éšæ®µä¸€ï¼šæ ¸å¿ƒæµç¨‹ MVP
- [ ] å°ˆæ¡ˆåˆå§‹åŒ–ï¼ˆNext.js + Tailwind + TypeScriptï¼‰
- [ ] é›™æ§‹å»ºæ¨¡å¼é…ç½®ï¼ˆnext.config.tsï¼‰
- [ ] åŸºç¤é¡å‹å®šç¾©ï¼ˆtypes/index.tsï¼‰
- [ ] åœ–ç‰‡ä¸Šå‚³çµ„ä»¶ï¼ˆå–®å¼µï¼‰
- [ ] Gemini åˆ†ææ•´åˆï¼ˆä¼ºæœå™¨ç‰ˆ + å®¢æˆ¶ç«¯ç‰ˆï¼‰
- [ ] 3 å€‹å»ºè­°å¡ç‰‡ UI
- [ ] é¸æ“‡ + èª¿æ•´è¼¸å…¥
- [ ] å–®æ¬¡æµç¨‹å®Œæˆ

### éšæ®µäºŒï¼šå®Œæ•´è¿­ä»£åŠŸèƒ½
- [ ] å¤šåœ–ä¸Šå‚³ï¼ˆæœ€å¤š 3 å¼µï¼‰
- [ ] åœ–ç‰‡ç®¡ç†ç•«å»Š
- [ ] è¿­ä»£ç²¾ç…‰é‚è¼¯
- [ ] è¿­ä»£æ­·å²è¨˜éŒ„ UI
- [ ] é€²åº¦æŒ‡ç¤ºå™¨
- [ ] æœƒè©±ç‹€æ…‹æŒä¹…åŒ–ï¼ˆZustand + localStorageï¼‰

### éšæ®µä¸‰ï¼šå½±ç‰‡è¦åŠƒèˆ‡é è¦½
- [ ] æœ€çµ‚ç¢ºèªé é¢
- [ ] è…³æœ¬ç”Ÿæˆ API
- [ ] åˆ†é¡é è¦½çµ„ä»¶
- [ ] è…³æœ¬ç·¨è¼¯åŠŸèƒ½

### éšæ®µå››ï¼šå½±ç‰‡ç”Ÿæˆæ•´åˆ
- [ ] Runway API æ•´åˆ
- [ ] ç”Ÿæˆé€²åº¦è¼ªè©¢
- [ ] å½±ç‰‡æ’­æ”¾å™¨
- [ ] ä¸‹è¼‰åŠŸèƒ½
- [ ] éŒ¯èª¤è™•ç†èˆ‡é‡è©¦

### éšæ®µäº”ï¼šéƒ¨ç½²èˆ‡ç™¼å¸ƒ
- [ ] Docker é…ç½®
- [ ] GitHub Actions CI/CD
- [ ] NPM CLI å·¥å…·ï¼ˆéœæ…‹ç‰ˆï¼‰
- [ ] README æ–‡æª”

### éšæ®µå…­ï¼šå„ªåŒ–èˆ‡æ“´å±•
- [ ] å¤šèªè¨€æ”¯æ´ï¼ˆç¹ä¸­/è‹±æ–‡ï¼‰
- [ ] API é‡‘é‘°ç®¡ç† Modal
- [ ] é€Ÿç‡é™åˆ¶
- [ ] Cloudflare Zero Trust æ•´åˆ
- [ ] å…¶ä»–å½±ç‰‡ç”Ÿæˆæœå‹™ï¼ˆPikaã€å¯éˆï¼‰

---

## âš ï¸ é—œéµæŒ‘æˆ°èˆ‡è§£æ±ºæ–¹æ¡ˆ

### 1. å½±ç‰‡ç”Ÿæˆæˆæœ¬é«˜
**å•é¡Œ**ï¼šå½±ç‰‡ç”Ÿæˆ API åƒ¹æ ¼æ˜‚è²´ï¼Œå®¹æ˜“è¢«æ¿«ç”¨

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
- å…ˆç”Ÿæˆé è¦½åœ–/é—œéµå¹€ï¼Œç¢ºèªå¾Œå†ç”Ÿæˆå®Œæ•´å½±ç‰‡
- ä¼ºæœå™¨ç‰ˆå¯¦æ–½åš´æ ¼é€Ÿç‡é™åˆ¶
- è€ƒæ…® credits ç³»çµ±
- éœæ…‹ç‰ˆç”¨æˆ¶è‡ªå‚™ API Keyï¼Œæˆæœ¬è‡ªè² 

### 2. è¿­ä»£ç‹€æ…‹ç®¡ç†è¤‡é›œ
**å•é¡Œ**ï¼šå¤šè¼ªè¿­ä»£çš„ç‹€æ…‹è¿½è¹¤

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
- ä½¿ç”¨ Zustand ç®¡ç†å…¨å±€ç‹€æ…‹
- localStorage æŒä¹…åŒ–ï¼Œé é¢åˆ·æ–°ä¸ä¸Ÿå¤±
- æ¸…æ™°çš„ç‹€æ…‹æ©Ÿè¨­è¨ˆï¼ˆCreationPhaseï¼‰

### 3. å¤šåœ–åˆ†æä¸€è‡´æ€§
**å•é¡Œ**ï¼šå¤šå¼µåœ–ç‰‡éœ€è¦æ•´é«”åˆ†æï¼Œè€Œéåˆ†é–‹è™•ç†

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
- å–®æ¬¡ API èª¿ç”¨å‚³å…¥æ‰€æœ‰åœ–ç‰‡
- Gemini æ”¯æ´å¤šåœ–è¼¸å…¥ï¼Œè®“ AI æ•´é«”ç†è§£

### 4. å½±ç‰‡ç”Ÿæˆæ™‚é–“é•·
**å•é¡Œ**ï¼šç”Ÿæˆå¯èƒ½éœ€è¦å¹¾åˆ†é˜

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
- å¯¦æ–½é€²åº¦è¼ªè©¢æ©Ÿåˆ¶
- é¡¯ç¤ºé ä¼°æ™‚é–“
- æ”¯æ´èƒŒæ™¯ç”Ÿæˆï¼ˆç”Ÿæˆå®Œæˆå¾Œé€šçŸ¥ï¼‰

---

## ğŸ”— èˆ‡ IGiveUpOnLife çš„å°æ¯”

| é¢å‘ | IGiveUpOnLifeï¼ˆåœ–ç‰‡ï¼‰ | æ–°å°ˆæ¡ˆï¼ˆå½±ç‰‡ï¼‰ |
|------|---------------------|---------------|
| è¼¸å‡º | éœæ…‹åœ–ç‰‡ | å‹•æ…‹å½±ç‰‡ |
| æµç¨‹ | 2 éšæ®µç·šæ€§ | å¤šè¼ªè¿­ä»£ |
| ç´ æ | å–®å¼µåœ–ç‰‡ | å¤šå¼µåœ–ç‰‡ç´¯ç©ï¼ˆæœ€å¤š 3 å¼µï¼‰ |
| AI èª¿ç”¨ | åˆ†æ + åœ–ç‰‡ç”Ÿæˆ | åˆ†æ + è¿­ä»£ + è…³æœ¬ + å½±ç‰‡ç”Ÿæˆ |
| ç‹€æ…‹è¤‡é›œåº¦ | ç°¡å–® | è¤‡é›œï¼ˆéœ€æŒä¹…åŒ–æœƒè©±ï¼‰ |
| ç”Ÿæˆæˆæœ¬ | è¼ƒä½ | è¼ƒé«˜ï¼ˆå½±ç‰‡ API è²´ï¼‰ |
| ç”Ÿæˆæ™‚é–“ | ç§’ç´š | åˆ†é˜ç´š |

---

## ğŸ“š åƒè€ƒè³‡æº

- [Next.js App Router æ–‡æª”](https://nextjs.org/docs/app)
- [Gemini API æ–‡æª”](https://ai.google.dev/docs)
- [Runway API æ–‡æª”](https://docs.runwayml.com/)
- [Zustand æ–‡æª”](https://zustand-demo.pmnd.rs/)
- [Tailwind CSS æ–‡æª”](https://tailwindcss.com/docs)

---

---

# ğŸš€ é–‹å§‹é–‹ç™¼ Prompt

å°‡ä»¥ä¸‹å…§å®¹è¤‡è£½åˆ°æ–°å°ˆæ¡ˆçš„ Claude Code å°è©±ä¸­ï¼Œé–‹å§‹é–‹ç™¼ï¼š

```
æˆ‘è¦é–‹ç™¼ä¸€å€‹ AI çŸ­å½±ç‰‡ç¤¾ç¾¤è¡ŒéŠ·æ‡‰ç”¨ï¼Œè®“ç”¨æˆ¶é€éåœ–ç‰‡å’Œæ–‡å­—æè¿°ï¼Œç¶“éå¤šè¼ª AI å¼•å°å¼å°è©±ï¼Œæœ€çµ‚ç”Ÿæˆ Reels/Shorts/TikTok çŸ­å½±ç‰‡ã€‚

## æ ¸å¿ƒæµç¨‹
1. **Phase 1 - åˆå§‹è¼¸å…¥**ï¼šç”¨æˆ¶ä¸Šå‚³ 1 å¼µåœ–ç‰‡ + æè¿° â†’ AI åˆ†æ â†’ ç”¢å‡º 3 ç¨®å½±ç‰‡æ–¹å‘å»ºè­°
2. **Phase 2 - è¿­ä»£ç²¾ç…‰**ï¼ˆå¯é‡è¤‡ï¼‰ï¼šç”¨æˆ¶é¸æ“‡ 1 å€‹æ–¹å‘ + èª¿æ•´æ„è¦‹ + å¯è¿½åŠ åœ–ç‰‡ï¼ˆæœ€å¤šç´¯è¨ˆ 3 å¼µï¼‰â†’ AI é‡æ–°åˆ†æ â†’ ç”¢å‡ºæ–°çš„ 3 ç¨®æ–¹å‘
3. **Phase 3 - æœ€çµ‚ç¢ºèª**ï¼šé¡¯ç¤ºå®Œæ•´å½±ç‰‡è¦åŠƒï¼ˆè…³æœ¬ã€åˆ†é¡ã€æ™‚é•·ã€é…æ¨‚ï¼‰â†’ ç”¨æˆ¶ç¢ºèª
4. **Phase 4 - å½±ç‰‡ç”Ÿæˆ**ï¼šAI ç”Ÿæˆå½±ç‰‡ â†’ é è¦½ â†’ ä¸‹è¼‰

## æŠ€è¡“éœ€æ±‚
- **æ¡†æ¶**ï¼šNext.js 15+ (App Router) + TypeScript + Tailwind CSS 4
- **AI**ï¼šGoogle Gemini APIï¼ˆåˆ†æç”¨ gemini-2.5-flashï¼‰
- **å½±ç‰‡ç”Ÿæˆ**ï¼šRunway Gen-3 APIï¼ˆå¯æ’æ‹”æ¶æ§‹ï¼Œé ç•™å…¶ä»–æœå‹™ï¼‰
- **ç‹€æ…‹ç®¡ç†**ï¼šZustand + localStorage æŒä¹…åŒ–
- **é›™æ§‹å»ºæ¨¡å¼**ï¼š
  - ä¼ºæœå™¨ç‰ˆï¼ˆ`pnpm build`ï¼‰ï¼šServer Actionsã€é€Ÿç‡é™åˆ¶ã€ä¼ºæœå™¨ API Key
  - éœæ…‹ç‰ˆï¼ˆ`pnpm build:static`ï¼‰ï¼šç´”å®¢æˆ¶ç«¯ã€ç”¨æˆ¶è‡ªå‚™ API Keyã€å¯éƒ¨ç½²åˆ° GitHub Pages

## é—œéµè¨­è¨ˆ
- æœå‹™å±¤çµ±ä¸€å…¥å£ï¼Œè‡ªå‹•åˆ‡æ›ä¼ºæœå™¨/éœæ…‹æ¨¡å¼
- è¿­ä»£æ­·å²è¨˜éŒ„ï¼Œå¯å›æº¯æŸ¥çœ‹
- å¤šåœ–ç®¡ç†ç•«å»Š
- é€²åº¦æŒ‡ç¤ºå™¨é¡¯ç¤ºç•¶å‰éšæ®µ
- å½±ç‰‡ç”Ÿæˆé€²åº¦è¼ªè©¢

## åƒè€ƒ
å®Œæ•´è¦åŠƒæ–‡æª”ä½æ–¼ï¼š.scripts/video_plan.md
åŒ…å«è©³ç´°çš„å°ˆæ¡ˆçµæ§‹ã€é¡å‹å®šç¾©ã€AI Prompt æ¨¡æ¿ã€ç’°å¢ƒè®Šæ•¸é…ç½®ç­‰ã€‚

è«‹å…ˆé–±è®€è¦åŠƒæ–‡æª”ï¼Œç„¶å¾Œå¾éšæ®µä¸€ï¼ˆæ ¸å¿ƒæµç¨‹ MVPï¼‰é–‹å§‹é–‹ç™¼ã€‚
```

---

*æ–‡æª”çµæŸ*
